<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
        "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" []>
<chapter>
    <title>Модуль поддержки практикумов</title>
    <section id="Введение">
        <title>Введение
        </title>
        <section id="Общие сведения">
            <title>Общие сведения
            </title>
            <para>
				<emphasis role="bold">Модуль поддержки практикумов (МПП)</emphasis> для системы КуМир позволяет учителю создавать, а ученику 
				выполнять учебные курсы по информатике на базе системы КуМир. Система КуМир играет по отношению к МПП роль управляющей системы. 
				Система КуМир вызывает МПП в начале сеанса работы. Во время сеанса работы МПП передает системе КуМир тексты заготовок программ 
				и описания обстановок, получает информацию о результатах тестирования и тексты подготовленных пользователем программ для 
				последующего сохранения в файле состояния выполнения.
            </para>
        </section>
		<section id="Курсы. Описание курса.">
			<title>Курсы. Описание курса.
			</title>
			<para>
				Под <emphasis role="italic">курсом</emphasis> мы понимаем:
			</para>
				<orderedlist>
					<listitem>
						<para>
							систему заданий, которую должен выполнить ученик;
						</para>
					</listitem>
					<listitem>
						<para>
							<emphasis role="italic">методику</emphasis>, которая описывает рекомендованный порядок выполнения заданий.
						</para>
					</listitem>
				</orderedlist>
			<para>
				<emphasis role="italic">Задание</emphasis> предлагает ученику написать программу, удовлетворяющую некоторой спецификации. 
				<emphasis role="italic">Описание задания</emphasis> включает в себя:
			</para>
			<orderedlist>
				<listitem>
					<para>
						текстовое описание задания;
					</para>
				</listitem>
				<listitem>
					<para>	
						шаблон программы и, если нужно, обстановку исполнителя; 
					</para>
				</listitem>
				<listitem>
					<para>
						программу тестирования и, если нужно, обстановки, используемые при тестировании.
					</para>
				</listitem>
			</orderedlist>
			<para>
				На множестве заданий может быть задана структура дерева – так же, как в традиционных 
				учебниках (части, главы, разделы и т.п.). Узлам дерева могут быть приписаны поясняющие тексты.
			</para>
			<para>
				Для более подробного ознакомления с подготовкой курса и его представления см. 
				<emphasis role="italic">Подготовка курса</emphasis>.
			</para>
		</section>
		<section id="Прохождение курса. Текущие оценки. Методика.">
			<title>	Прохождение курса. Текущие оценки. Методика.
			</title>
			<para>
				При прохождении (выполнении) курса учеником, МПП для каждого задания помнит текущую 
				<emphasis role="italic">оценку</emphasis> -- целое число от <code>0</code> до <code>10</code>. 
				Оценка показывает, выполнял ли ученик данное задание и, если да, -  насколько успешно он справился 
				с этим заданием.
			</para>
			<para>
				Описание курса включает в себя <emphasis role="italic">методику</emphasis> -- указание на то, какие 
				задания доступны для выполнения в зависимости от уже полученных оценок. Простейшие методики – это 
				«свободная» методика, когда, независимо от полученных оценок, доступны все задания, и «игровая», когда 
				задания линейно упорядочены и очередное задание доступно только после выполнения всех предыдущих. В 
				более сложных случаях методика может выделять в курсе, например, задачи повышенной трудности, которые 
				становятся доступными только при хороших оценках за задания основного курса, и вспомогательные задачи, 
				которые предлагаются ученику, если он не справляется с некоторыми основными заданиями.
			</para>
		</section>
		<section id="Проверка задания. Шаблон программы.">
			<title>Проверка задания. Шаблон программы.
			</title>
			<para>
				Проверка правильности выполнения задания выполняется с помощью тестирования. Разработчик курса для 
				каждого задания готовит систему тестов. Эта система оформляется как (возможно, скрытая) часть заготовки программы.
			</para>
			<para>
				При получении запроса на тестирование программы, МПП вызывает алгоритм без параметров со стандартным именем 
				<code role="кумир">@тестирование</code>. Этот алгоритм может, если нужно, вызывать другие алгоритмы. Алгоритм 
				<code role="кумир">@тестирование</code> и его вспомогательные алгоритмы должны быть включены в заготовку программы 
				как неудаляемые (и, возможно, невидимые) фрагменты. Эти алгоритмы могут вызывать программу пользователя (ее 
				заголовок фиксируется в заготовке как неудаляемый, но видимый, фрагмент) шаблона.
			</para>
		</section>
		<section id="Сеанс работы с использованием модуля поддержки практикумов">
			<title>Сеанс работы с использованием модуля поддержки практикумов
			</title>
			<para>
				В меню <guimenu>Практикум</guimenu> системы КуМир ученик выбирает пункт <guimenuitem>Загрузить курс</guimenuitem> 
				или выбирает <guimenuitem>Недавние курсы / тетради</guimenuitem>. Недавние курсы можно также выбрать на заглавном 
				окне (режим IDE). Для начала работы с курсом, ученик должен загрузить файл с копией описания нужного курса.
				Это может быть стандартная копия или личная копия пользователя (тетрадь), содержащая:
			</para>
			<itemizedlist>
				<listitem>
					<para>полученные им ранее оценки за выполнение заданий,
					</para>
				</listitem>
				<listitem>
					<para>созданные ранее версии программ
					</para>
				</listitem>
			</itemizedlist>
			<para>
				(такая копия может быть создана пользователем во время предыдущих сеансов работы). 
			</para>
			<para>
				Далее ученик с помощью окна практикумов поочередно выбирает задания и выполняет их, используя систему КуМир. После 
				того, как (по мнению ученика) программа готова, ученик запускает процедуру тестирования. По итогам тестирования 
				выставляется оценка качества выполнения и, соответственно, меняется список доступных для выполнения заданий в окне курсов.
			</para>
			<para>
				Сеанс работы может быть прекращен по желанию ученика в произвольный момент. При этом текущее состояние работы над курсом 
				сохраняется автоматически в тетрадь. 
			</para>
		</section>
    </section>
	<section id="Сеанс работы">
		<title>Сеанс работы
		</title>
		<section id="Окно практикумов">
			<title>Окно практикумов
			</title>
			<para>
				Окно практикумов изображено на рисунке. В исходном состоянии ученику доступно только  одно действие – загрузить курс.
			</para>
			<para>
				После того, как курс выбран, ученику предлагается создать тетрадь в которой будут сохраняться результаты его работы. 
				В левой части окна показывается список заданий, в правой -- описание текущего задания, блока заданий или всего курса.
			</para>
			<para>
				Описание курса имеет древовидную структуру, ученик может «сворачивать» и «разворачивать» отдельные разделы курса (узлы дерева). 
				Выбор задания производится щелчком мыши. Задания, доступные для выполнения, выделены черным.
			</para>
			<para>
				Текст описания задания – это обычный HTML-текст. В нем можно использовать рисунки, выделения курсивом, жирным и т.п.
			</para>
			<mediaobject>
				<imageobject>
					<imagedata format="SVG" fileref="kumir-course-window.svg"/>
				</imageobject>
				<imageobject>
					<imagedata format="PDF" fileref="kumir-course-window.pdf"/>
				</imageobject>
				<imageobject>
					<imagedata format="PNG" fileref="kumir-course-window.png"/>
				</imageobject>
				<caption>Окно курсов. Исходное состояние.</caption>
			</mediaobject>
		</section>
		<section id="Общее описание сеанса">
			<title>Общее описание сеанса
			</title>
			<para>
				После загрузки выбранного курса, ученик работает с ним - поочередно выбирает
				и выполняет задания. В каждый момент пользователю доступен для выполнения определенный набор заданий (см. выше).
			</para>
			<para>
				Результаты работы автоматически сохраняются в тетрадь. Впоследствии эта копия может быть загружена и работа будет продолжена с 
				того состояния, в котором она была прервана.
			</para>
		</section>
		<section id="Выполнение задания">
			<title> Выполнение задания
			</title>
			<para>
				Пользователь выбирает задание, используя левое поле окна курса. После этого в правом поле этого окна появляется словесное 
				описание задания, а в поле программы окна системы КуМир устанавливается обстановки исполнителей и начальный текст 
				программы –- сохраненный во время предыдущего сеанса текст или (при первом запуске задания) исходный шаблон. Если требуется, 
				загружается обстановка нужного исполнителя.
			</para>
			<para>
				Далее пользователь обычным образом создает нужную программу и, когда, по его мнению, программа готова, вызывает проверку (см. ниже). 
			</para>
			<para>
				По результатам проверки за задание выставляется оценка и, возможно, изменяется множество доступных заданий. 
			</para>
			<para>
				После проверки пользователь может продолжить выполнение задания (если результат оказался неудовлетворительным) или выбрать 
				новое задание.
			</para>
		</section>
		<section id="Проверка задания">
			<title>Проверка задания
			</title>
			<para>
				Задание может содержать несколько обстановок исполнителей. Для проверки текущей программы необходимо нажать кнопку <guibutton>Проверить</guibutton>. 
				При этом для каждого исполнителя устанавливается текущая обстановка. Затем вызывается алгоритм <code role="кумир">@тестирование</code>. 
				Этот алгоритм готовит разработчик курса. Значение возвращённое алгоритмом <code role="кумир">@тестирование</code> является промежуточной 
				оценкой. Она должна быть целым числом. Проверка повторяется для всех обстановок связанных с заданием.
				Подробнее про алгоритм <code role="кумир">@тестирование</code> см. <emphasis role="italic">Подготовка тестирующего алгоритма</emphasis>.
			</para>
			<para>
				Если на очередной обстановке в работе программы обнаружена ошибка, то тестирование прерывается, в поле ввода-вывода выводится 
				соответствующее сообщение и обстановка, на которой обнаружена ошибка предъявляется ученику. При каждом тестировании проверяется 
				работоспособность программы на всех тестовых обстановках, независимо от результатов предыдущих тестирований. Результирующая оценка - 
				минимальная среди промежуточных.
			</para>
		</section>
		<section id="Сохранение состояния курса">
			<title>Сохранение состояния курса
			</title>
			<para>
				Сохранение результатов работы производится в тетрадь автоматически, если тетрадь не была создана – изменения сохраняются во 
				временный файл.
			</para>
		</section>
	</section>
	<section id="Подготовка курса">
		<title>Подготовка курса
		</title>
		<section id="Файл описания курса">
			<title>Файл описания курса
			</title>
			<para>
				Файл описания курса – это XML-файл обычно создается при помощи специальной программы – редактора курсов. В этом XML-файле 
				хранится дерево заданий. Для каждого задания описывается:
			</para>
			<orderedlist>
				<listitem>
					<para>
						Номер задания.
					</para>
				</listitem>
				<listitem>
					<para>
						Имя необходимой УС (Пока только Кумир).
					</para>
				</listitem>
				<listitem>
					<para>
						Имя задания.
					</para>
				</listitem>
				<listitem>
					<para>
						Текстовое описание задания или ссылка на HTML-файл.
					</para>
				</listitem>
				<listitem>
					<para>
						Ссылка на файл стартовой программы.
					</para>
				</listitem>
				<listitem>
					<para>
						Список имен необходимых исполнителей.
					</para>
				</listitem>
				<listitem>
					<para>
						Ссылки на файлы обстановок исполнителей.
					</para>
				</listitem>
				<listitem>
					<para>
						Текущая оценка.
					</para>
				</listitem>
				<listitem>
					<para>
						Минимальные и максимальные оценки по другим заданиям, необходимые для этого задания.
					</para>
				</listitem>
			</orderedlist>
		</section>
		<section id="Файлы заданий">
			<title>Файлы заданий
			</title>
			<para>
				Это файлы, на которые имеются ссылки в файле описания курса (файлы обстановок, HTML-файлы описаний, 
				файлы программ и другие файлы необходимые для выполнения задания). Для них может быть указан любой 
				путь. Но на практике удобно, чтобы они лежали в том же каталоге, что и файл описания практикума или 
				в подкаталоге этого каталога.
			</para>
		</section>
		<section id="Подготовка программы-заготовки">
			<title>Подготовка программы-заготовки
			</title>
			<para>
				Программу-заготовку рекомендуется готовить с помощью системы Кумир. В заготовку должны обязательно
                входить следующие фрагменты, защищенные от
				изменения учеником:
			</para>
			<orderedlist>
				<listitem>
					<para>
						заголовок требуемого алгоритма;
					</para>
				</listitem>
				<listitem>
					<para>
						тестирующий алгоритм-функция без параметров <code role="кумир">цел @тестирование</code>.
					</para>
				</listitem>
				<para>
					Заголовок должен быть виден ученику, а алгоритм <code>@тестирование</code>, как правило (но не обязательно) скрыт от ученика. 
					Сделать фрагменты программы защищенными от изменения и невидимыми можно в редакторе КуМира, используя правую кнопку мыши. 
					Подробнее о подготовке алгоритма тестирования см. ниже. Кроме указанных необходимых элементов, в заготовку можно включать 
					по желанию разработчика и другие элементы программы – описания величин, управляющие конструкции и т.п. Делать весь текст 
					заготовки защищенным от изменений не обязательно.
				</para>
			</orderedlist>
		</section>
		<section id="Подготовка тестирующего алгоритма">
			<title>Подготовка тестирующего алгоритма
			</title>
			<para>
				Тестирующий алгоритм – часть программы-заготовки. Это алгоритм-функция языка КуМир типа <code role="кумир">цел</code>. Возвращаемое 
				значение является оценкой, которую получит ученик. Тестирующий алгоритм должен иметь имя <code role="кумир">@тестирование</code>. 
				Тестирующий алгоритм может вызывать другие алгоритмы. Имена этих алгоритмов должны начинаться с символа, чтобы не создавать 
				конфликтов с именами алгоритмов пользователя. Эти имена не будут показываться ученику при вызове подсказки, которая выдает список 
				доступных алгоритмов.
			</para>
			<para>
				Тестирующий алгоритм и вызываемые им алгоритмы разработчика должны быть расположены в конце программы-заготовки. Это связано с тем, 
				что в системе КуМир скрыть от ученика можно лишь фрагмент текста от указанной позиции до конца программы.
			</para>
			<para>
				Поддержка практикумов обеспечивает многократный вызов тестирующего алгоритма, если задан список тестовых обстановок. Нужно иметь Это 
				нужно иметь в виду при создании тестирующего алгоритма. Для проверки заданий, связанных с исполнителем Робот, существуют 
				дополнительные команды см. <emphasis role="italic">Алгоритмы контроля обстановки исполнителя «Робот»</emphasis>. Эти команды нельзя 
				использовать вне тестирующего алгоритма.
			</para>
		</section>
	</section>
</chapter>